<div class="relative flex h-full" x-data="rnbData()" @scroll.window="handleScroll">

    <!-- Content -->
    <section class="flex-1 p-8 space-y-40 pr-80 bg-gradient-to-b from-slate-50 to-white">

        <div id="demo">
            <h1 class="text-4xl font-extrabold text-indigo-600 mb-6">결제 연동 체험하기</h1>
            <div class="h-[1500px] bg-indigo-100 rounded-2xl flex items-center justify-center shadow-lg">
                <p class="text-2xl font-medium text-indigo-700">결제 연동 체험하기 콘텐츠</p>
            </div>
        </div>

        <div id="auth">
            <h2 class="text-3xl font-semibold text-emerald-600 mb-6">인증</h2>
            <div class="h-[1500px] bg-emerald-100 rounded-2xl flex items-center justify-center shadow-lg">
                <p class="text-2xl font-medium text-emerald-700">인증 콘텐츠</p>
            </div>
        </div>

        <div id="firewall">
            <h2 class="text-3xl font-semibold text-amber-600 mb-6">방화벽</h2>
            <div class="h-[1500px] bg-amber-100 rounded-2xl flex items-center justify-center shadow-lg">
                <p class="text-2xl font-medium text-amber-700">방화벽 콘텐츠</p>
            </div>
        </div>

        <div id="request">
            <h2 class="text-3xl font-semibold text-purple-600 mb-6">API URL 형식</h2>
            <div class="h-[1500px] bg-purple-100 rounded-2xl flex items-center justify-center shadow-lg">
                <p class="text-2xl font-medium text-purple-700">API URL 형식 콘텐츠</p>
            </div>
        </div>

        <div id="response">
            <h2 class="text-3xl font-semibold text-pink-600 mb-6">기본 응답 형식</h2>
            <div class="h-[1500px] bg-pink-100 rounded-2xl flex items-center justify-center shadow-lg">
                <p class="text-2xl font-medium text-pink-700">기본 응답 형식 콘텐츠</p>
            </div>
        </div>

    </section>

    <!-- ✅ RNB (오른쪽 플로팅) -->
    <aside :class="rnbFixed ? 'fixed top-24 right-12 w-64' : 'absolute top-24 right-12 w-64'"
           class="p-6 bg-white rounded-2xl shadow-xl ring-1 ring-slate-200 transition-all ease-in-out duration-300">
        <h3 class="text-lg font-semibold text-slate-700 mb-4">목차</h3>
        <ul class="flex flex-col gap-3 text-sm text-slate-600">
            <template x-for="item in items" :key="item.id">
                <li>
                    <a :href="'#' + item.id"
                       @click="currentSubCategory = item.name; currentItem = item.name"
                       class="block hover:text-indigo-600 hover:underline transition">
                        <span x-text="item.name"></span>
                    </a>
                </li>
            </template>
        </ul>
    </aside>

</div>

<script>
    function rnbData() {
        return {
            rnbFixed: false,
            currentSubCategory: '',
            currentItem: '',
            items: [
                { id: 'demo', name: '결제 연동 체험하기' },
                { id: 'auth', name: '인증' },
                { id: 'firewall', name: '방화벽' },
                { id: 'request', name: 'API URL 형식' },
                { id: 'response', name: '기본 응답 형식' }
            ],
            handleScroll() {
                const scrollY = window.scrollY || window.pageYOffset;
                this.rnbFixed = scrollY > 150;  // 🔥 스크롤이 150px 넘으면 fixed 모드로
            }
        }
    }
</script>